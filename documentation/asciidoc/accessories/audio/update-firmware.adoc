== Updating your firmware

Raspberry Pi Audio Boards use an EEPROM that contains information that is used by the host Raspberry Pi device to select the appropriate driver at boot time. This information is programmed into the EEPROM during manufacture. There are some circumstances where the end user may wish to update the EEPROM contents, this can be done from the command line.

IMPORTANT: Before proceeding you should update the Raspberry Pi OS running on your Raspberry Pi to the latest version.

=== Programming the device

==== The EEPROM write-protect link

During the programming process you will need to connect the two pads shown in the red box

image::images/write_protect_tabs.jpg[width="80%"]

NOTE: In some cases the two pads will already have a 0Î© resistor fitted to bridge the write-protect link, as illustrated in the picture of the Codec Zero board above.

==== EEPROM Programming

Once the write protect line has been pulled down, the EEPROM can be programmed. 

TBD


[cols="2"]
|===
| Device | Filename

| Codec Zero | Pi-CodecZero.eep
| DAC+ | Pi-DACPlus.eep
| DAC Pro | Pi-DACPRO.eep
| DigiAmp+ | Pi-DigiAMP.eep
|===

== DeviceTree Overlays

As an alternative to updating the EEPROM contents, it is possible to manually specify the appropriate device tree entries in the `config.txt` file.

The procedure is simple, edit the `config.txt` file using your favourite editor (you will need to run the editor as root using `sudo`), and add a line as follow:

`dtoverlay <name of overlay>`

Use the correct overlay for your device.

[cols="2"]
|===
| Device | Overlay name

| {IQ} Codec Zero |  rpi-codeczero
| {IQ} DAC+ | rpi-dacplus
| {IQ} DAC Pro | rpi-dacpro
| {IQ} DigiAmp+ | rpi-digiampplus
|===
